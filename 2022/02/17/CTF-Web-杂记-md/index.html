<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="tr0uble"><meta name="copyright" content="tr0uble"><meta name="generator" content="Hexo 5.4.2"><meta name="theme" content="hexo-theme-yun"><title>CTF-Web-杂记 | tr0uble的blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":["tr0uble's","Blog"],"version":"1.10.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="l &amp; 组合命令语法：第一条命令 &amp; 第二条命令 [&amp; 第三条命令…] &amp;、&amp;&amp;、||为组合命令，顾名思义，就是可以把多个命令组合起来当一个命令来执行。这在批处理脚本里是允许的，而且用的非常广泛。因为处理认行不认命令数目。  &amp;这个符号允许在一行中使用 2 个以上不同的命令，当第一个命令执行失败了，也不影响后边的命令执行。这里&amp;两边的">
<meta property="og:type" content="article">
<meta property="og:title" content="CTF-Web-杂记">
<meta property="og:url" content="http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/index.html">
<meta property="og:site_name" content="tr0uble的blog">
<meta property="og:description" content="l &amp; 组合命令语法：第一条命令 &amp; 第二条命令 [&amp; 第三条命令…] &amp;、&amp;&amp;、||为组合命令，顾名思义，就是可以把多个命令组合起来当一个命令来执行。这在批处理脚本里是允许的，而且用的非常广泛。因为处理认行不认命令数目。  &amp;这个符号允许在一行中使用 2 个以上不同的命令，当第一个命令执行失败了，也不影响后边的命令执行。这里&amp;两边的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/Users/崔凌敏/Desktop/西提埃夫/第七周/img/30.png">
<meta property="article:published_time" content="2022-02-17T08:45:35.000Z">
<meta property="article:modified_time" content="2022-02-26T13:31:16.064Z">
<meta property="article:author" content="tr0uble">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/Users/崔凌敏/Desktop/西提埃夫/第七周/img/30.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="tr0uble"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="tr0uble"><span class="site-author-status" title="(^_^)"></span></a><div class="site-author-name"><a href="/about/">tr0uble</a></div><span class="site-name">tr0uble的blog</span><sub class="site-subtitle"></sub><div class="site-description"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">16</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">5</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">3</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:2840569356@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/clingm" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#l-amp-%E7%BB%84%E5%90%88%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">l &amp; 组合命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XSS"><span class="toc-number">2.</span> <span class="toc-text">XSS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E5%9E%8B"><span class="toc-number">2.2.1.</span> <span class="toc-text">反射型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%9E%8B"><span class="toc-number">2.2.2.</span> <span class="toc-text">存储型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM%E5%9E%8B"><span class="toc-number">2.2.3.</span> <span class="toc-text">DOM型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#DOM"><span class="toc-number">2.2.3.0.1.</span> <span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#document%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.3.0.1.1.</span> <span class="toc-text">document对象</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#document%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.3.0.1.2.</span> <span class="toc-text">document对象方法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.4.</span> <span class="toc-text">测试方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84playload"><span class="toc-number">2.2.5.</span> <span class="toc-text">常见的playload</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E"><span class="toc-number">3.</span> <span class="toc-text">文件包含漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%8C%85%E5%90%AB"><span class="toc-number">3.0.1.</span> <span class="toc-text">本地包含</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E5%8C%85%E5%90%AB"><span class="toc-number">3.0.2.</span> <span class="toc-text">远程包含</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93php%E4%BB%A3%E7%A0%81%E5%AF%B9%E5%8C%85%E5%90%AB%E7%9A%84%E6%96%87%E4%BB%B6%E6%9C%89%E9%99%90%E5%88%B6%E6%97%B6%E7%9A%84%E6%8A%80%E5%B7%A7"><span class="toc-number">3.0.2.1.</span> <span class="toc-text">当php代码对包含的文件有限制时的技巧</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.</span> <span class="toc-text">伪协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E4%BC%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.1.</span> <span class="toc-text">php伪协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#data-%E4%BC%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.2.</span> <span class="toc-text">data 伪协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CTF%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BC%96%E7%A0%81"><span class="toc-number">4.</span> <span class="toc-text">CTF常见的编码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ASCII%E7%BC%96%E7%A0%81"><span class="toc-number">4.0.1.</span> <span class="toc-text">ASCII编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#base%E5%AE%B6%E6%97%8F%E7%BC%96%E7%A0%81"><span class="toc-number">4.0.2.</span> <span class="toc-text">base家族编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MD5"><span class="toc-number">4.0.3.</span> <span class="toc-text">MD5</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PHP%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">PHP序列化与反序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">5.0.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">5.0.2.</span> <span class="toc-text">序列化与反序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.3.</span> <span class="toc-text">魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E"><span class="toc-number">5.0.4.</span> <span class="toc-text">利用反序列化漏洞</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.4.1.</span> <span class="toc-text">利用魔术方法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">6.</span> <span class="toc-text">SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%9E%8B%E5%92%8CUNION-%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">6.0.1.</span> <span class="toc-text">数字型和UNION 型注入</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E8%BF%87%E7%A8%8B"><span class="toc-number">6.0.1.0.1.</span> <span class="toc-text">一般过程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%E5%92%8C%E5%B8%83%E5%B0%94%E7%9B%B2%E6%B3%A8"><span class="toc-number">6.0.2.</span> <span class="toc-text">字符型注入和布尔盲注</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A0%86%E5%8F%A0%E6%B3%A8%E5%85%A5"><span class="toc-number">6.0.2.0.1.</span> <span class="toc-text">堆叠注入</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5bypass%E6%96%B9%E6%B3%95"><span class="toc-number">6.1.</span> <span class="toc-text">SQL注入bypass方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%A0%BC%E7%BB%95%E8%BF%87"><span class="toc-number">6.1.1.</span> <span class="toc-text">空格绕过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A%E7%AC%A6"><span class="toc-number">6.1.2.</span> <span class="toc-text">注释符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="toc-number">6.1.3.</span> <span class="toc-text">特殊符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WAF%E8%BF%87%E6%BB%A4%E6%8E%89"><span class="toc-number">6.1.4.</span> <span class="toc-text">WAF过滤掉()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4SELECT"><span class="toc-number">6.1.4.1.</span> <span class="toc-text">过滤SELECT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="toc-number">6.1.5.</span> <span class="toc-text">一些其他方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E6%95%B0%E6%8D%AE%E6%AF%94%E8%BE%83"><span class="toc-number">7.</span> <span class="toc-text">php数据比较</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="tr0uble"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="tr0uble的blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">CTF-Web-杂记</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2022-02-17 16:45:35" itemprop="dateCreated datePublished" datetime="2022-02-17T16:45:35+08:00">2022-02-17</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2022-02-26 21:31:16" itemprop="dateModified" datetime="2022-02-26T21:31:16+08:00">2022-02-26</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/web/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">web</span></a></span></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="l-amp-组合命令"><a href="#l-amp-组合命令" class="headerlink" title="l &amp; 组合命令"></a>l &amp; 组合命令</h1><p>语法：第一条命令 &amp; 第二条命令 [&amp; 第三条命令…]</p>
<p>&amp;、&amp;&amp;、||为组合命令，顾名思义，就是可以把多个命令组合起来当一个命令来执行。这在批处理脚本里是允许的，而且用的非常广泛。因为处理认行不认命令数目。</p>
<ul>
<li><p>&amp;这个符号允许在一行中使用 2 个以上不同的命令，当第一个命令执行失败了，也不影响后边的命令执行。这里&amp;两边的命令是顺序执行的，从前往后执行。</p>
</li>
<li><p>Command 1 | Command 2</p>
</li>
</ul>
<p>“|”是管道符，表示将Command 1的输出作为Command 2的输入，并且只打印Command 2执行的结果。</p>
<ul>
<li>; 分号</li>
</ul>
<p>分号，当命令相同时，可以将不同目标用；来隔离，但执行效果不变，如执行过程中发生错误，则只返回错误报告，但程序仍会执行</p>
<hr>
<h1 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h1><p>XSS（跨站脚本攻击）</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>XSS攻击实在网页中嵌入客户端恶意脚本代码，这些恶意代码一般</p>
<p>xss产生的原因主要是对html标签审查不严格造成的，这些恶意代码一般是使用JavaScript语言编写的(也有使用ActionSctipt, VBscript). 所以想深入研究XSS，必须要精通JavaScript。</p>
<p>JavaScript可以用来获取用户的cookie、黑掉页面、导航到恶意网站，攻击者需要做的就是向Web页面中注入JavaScript代码</p>
<p>下面是一个最简单的XSS漏洞实例</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>PrintStr<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre>

<p>PrintStr 页面如下：</p>
<pre class="language-markup" data-language="markup"><code class="language-markup">&lt;%
   String name = requeset.getParameter("username");
   out.println("您输入的内容是：" + name);
   %></code></pre>

<p>攻击者可以输入<code>&lt;script&gt;alert(/xss/)&lt;/script&gt;</code>触发XSS攻击。即在<code>&lt;script&gt;</code>标签中输入JavaScript代码，实现特殊效果。真实的攻击中，通常使用</p>
<p><code>&lt;script src=&quot;http//:www.secbug.org/x.txt&quot;&gt;&lt;/script&gt;</code> 方式加载外部脚本，x.txt中就存放着攻击者的恶意JavaScript代码，这段代码可能是用来盗取用户的cookie，也可能是监控键盘记录等恶意行为。</p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><h3 id="反射型"><a href="#反射型" class="headerlink" title="反射型"></a>反射型</h3><p>也称为非持久型XSS，是现在最容易出现的一种XSS漏洞。</p>
<p>当用户访问一个带有XSS代码的URL请求时，服务器端接收数据后处理，然后把带有XSS代码的数据发送到浏览器，浏览器解析这段带有XSS代码的数据后，最终造成XSS漏洞。这个过程就像一次反射，故称为反射型XSS。</p>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><p>下面是一个XSS的例子：</p>
<p>假如<a target="_blank" rel="noopener" href="http://www.secbug.org/xss.php">http://www.secbug.org/xss.php</a> 存在XSS反射跨站漏洞,那么攻击者的步骤可能如下。</p>
<p>①用户HIM是网站<a target="_blank" rel="noopener" href="http://www.secbug.org/">www.secbug.org</a> 的忠实粉丝,此时正泡在论坛看信息。<br>②攻击者发现<a target="_blank" rel="noopener" href="http://www.secbug.org/xss.php">www.secbug.org/xss.php</a> 存在反射型XSS漏洞,然后精心构造 JavaScript 代码,此段代码可以盗取用户Cookie发送到指定的站点<a target="_blank" rel="noopener" href="http://www.xxser.com/">www.xxser.com</a>.<br>③攻击者将带有反射型XSS漏洞的URL通过站内信发送给用户HIM，站内信为一些诱惑信息，目的是为让用户HIM单击链接。<br>④假设用户HIM单击了带有XSS漏洞的URL，那么将会把自己的Cookie发送到网站<a target="_blank" rel="noopener" href="http://www.xxser.com./">www.xxser.com。</a></p>
<p>⑤攻击者接收到用户HIM的会话Cookie，可以直接利用Cookie以HIM的身份登录<a target="_blank" rel="noopener" href="http://www.secbug.org/">www.secbug.org</a>, 从而获取用户HIM的敏感信息。</p>
<ul>
<li></li>
</ul>
<h3 id="存储型"><a href="#存储型" class="headerlink" title="存储型"></a>存储型</h3><p>存储型XSS又被称为持久性XSS，存储型XSS是最危险的一种跨站脚本。</p>
<pre><code>**允许用户存储数据的Web应用程序**都可能会出现存储型XSS漏洞，当攻击者提交一段xSS代码后，被服务器端接收并存储，当攻击者再次访问某个页面时，这段XSS代码被程序读出来响应给浏览器，造成XSS跨站攻击，这就是存储型XSS。
存储型XSS与反射型XSS、DOM型XSS相比，具有更高的隐蔽性，危害性也更大。它们之间最大的区别在于**反射型XSS与DOM型XSS执行都必须依靠用户手动去触发**，而存储型XSS却不需要。

攻击者将带有XSS代码的留言提交到数据库，当用户查看这段留言时，浏览器会把XSS代码认为是正常的 JavaScript 代码来执行。所以，存储型XSS具有更高的隐蔽性。
</code></pre>
<h3 id="DOM型"><a href="#DOM型" class="headerlink" title="DOM型"></a><strong>DOM型</strong></h3><h5 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h5><p>对于浏览器来说，DOM文档就是一份XML文档，当有了这个标准的技术之后，通过JavaScript就可以轻松的访问它们了</p>
<h6 id="document对象"><a href="#document对象" class="headerlink" title="document对象"></a>document对象</h6><pre class="language-markup" data-language="markup"><code class="language-markup">document.body  #提供对<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>元素的直接访问，对于定义了框架集的文档，该属性引用最外层的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span><span class="token punctuation">></span></span>
document.cookie  #设置或返回与当前文档有关的所有cookie
document.domain  #返回当前文档的域名
document.lastModified  #返回文档被最后修改的日期和时间，可以分辨静态页面、伪静态页面、动态页面
document.referrer  #返回链接到当前文档的源页面的URL
document.title  #返回当前文档的标题
document.URL  #返回当前文档的URL</code></pre>

<h6 id="document对象方法"><a href="#document对象方法" class="headerlink" title="document对象方法"></a>document对象方法</h6><pre class="language-markup" data-language="markup"><code class="language-markup">document.open()  #打开一个流，以收集来自任何document.write()或document.writeln()方法的输出
document.close()  #关闭使用document.open()方法打开的输出流，并显示选定的数据
document.getElementById()  #返回对拥有指定ID的第一个对象的引用
document.getElementsByName()  #返回带有指定名称的对象集合
document.getElementsByTagName()  #返回带有指定标签名的对象集合
document.write()  #像文档写HTML表达式或JavaScript代码，可以接受native编码值
document.writeln()  #等同于document.write()方法，不同的是在每个表达式之后写一个换行符</code></pre>

<p><em><strong>如果innerHTM需要触发XSS，不能够使用标签型，需要使用事件型</strong></em></p>
<p><code>&lt;img src=1 onerror=alert(document.cookie)&gt;</code></p>
<h3 id="测试方法"><a href="#测试方法" class="headerlink" title="测试方法"></a>测试方法</h3><pre><code>在测试是否存在XSS时，首先要确定输入点与输出点。

如果输出的数据在属性内，那么XSS代码是不会被执行的。如：
</code></pre>
<p><code>&lt;input type=&quot;text&quot;name=&quot;content&quot;value=&quot;&lt;script&gt;alert(1)&lt;/script&gt;&quot;/&gt;</code><br>以上 JavaScript 代码虽然成功地插入到了HTML中，但却无法执行，因为XSS代码出现在Value属性中，被当作值来处理，最终浏览器解析HTML时，将会把数据以文本的形式输出在网页中。</p>
<p>下面米看看具体的存储型XSS漏洞，测试步骤如下:</p>
<p>①添加正常的留言，昵称为“Xxser”，留言内容为“ HelloWorld ”，使用Firebug快速寻找显示标签，发现标签为：</p>
<pre class="language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Xxer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>HelloWorld<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>time<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2021-11-20 15:06<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span></code></pre>

<p>②如果显示区域不在HTML属性内，则可以直接使用XSS代码注入。如果说不能得知内容输出的具体位置，则可以使用模糊测试方案，XSS代码如下。</p>
<ul>
<li><p><code>＜script＞alert（document.　cookie）＜／script＞</code>普通注入；</p>
</li>
<li><p><code>＂／＞＜script＞alert（document.　cookie）＜／script＞</code>：闭合标签注入；</p>
</li>
<li><p><code>&lt;/textarea&gt;&quot;&quot;&gt;&lt;script&gt;alert(document.　cookie)&lt;/script&gt;</code>：闭合标签注入。</p>
</li>
</ul>
<h3 id="常见的playload"><a href="#常见的playload" class="headerlink" title="常见的playload"></a>常见的playload</h3><p>  <code>&lt;script&gt;alert(document.cookie)&lt;/script&gt;</code></p>
<p>  <code>&lt;body onload=alert(document.cookie)&gt;</code></p>
<p>  <code>&lt;img src=&quot;&quot; onerror=alert(document.cookie)&gt;</code></p>
<p>  <code>&lt;a href=&#39;&#39; onclick=alert(document.cookie)&gt;click&lt;/a&gt;</code></p>
<p>  <code>&lt;a href=&#39;&#39; onclick=alert(document.cookie)&gt;click&lt;/a&gt;</code></p>
<hr>
<h1 id="文件包含漏洞"><a href="#文件包含漏洞" class="headerlink" title="文件包含漏洞"></a>文件包含漏洞</h1><p>为了更好地使用代码的重用性，可以使用文件包含函数将文件包含进来，直接使用文件中的代码来提高重用性。但是这也产生了<strong>文件包含漏洞</strong>，产生原因是在通过 PHP 的函数引入文件时，为了灵活包含文件会将被包含文件设置为变量，通过动态变量来引入需要包含的文件。此时用户可以对变量的值可控，而服务器端未对变量值进行合理地校验或者校验被绕过，就会导致文件包含漏洞。</p>
<blockquote>
<p>文件包含函数</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>include()</td>
<td>代码执行到 include() 函数时将文件包含</td>
</tr>
<tr>
<td>include_once()</td>
<td>当重复调用同一文件时只调用一次,功能与 include() 相同</td>
</tr>
<tr>
<td>require()</td>
<td>require() 执行如果发生错误，函数会报错并终止脚本</td>
</tr>
<tr>
<td>require_once()</td>
<td>当重复调用同一文件时只调用一次,功能与 require() 相同</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="本地包含"><a href="#本地包含" class="headerlink" title="本地包含"></a>本地包含</h3><p>当包含的文件在服务器本地时，就形成了本地文件包含。文件包含可以包含任意文件，被包含的文件可以不是 PHP 代码，可以是文本或图片等。只要文件被包含就会被服务器脚本语言执行，如果包含的文件内容不符合 php 语法，会直接将文件内容输出。</p>
<p>该文件可以是任何类型，无论它是被删除的文件类型、图片还是任意的内容，都包括在内。</p>
<p>简单的php代码：</p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?></span></span></code></pre>

<h3 id="远程包含"><a href="#远程包含" class="headerlink" title="远程包含"></a>远程包含</h3><p>当包含的文件在远程服务器上时，就形成了远程文件包含。有两个要点：</p>
<blockquote>
<p>allow_url_include = on（是否允许 include/require 远程文件）<br>allow_url_fopen = on（是否允许打开远程文件</p>
</blockquote>
<blockquote>
<p>所包含远程服务器的文件后缀不能与目标服务器语言相同</p>
</blockquote>
<p>第二点的解释：如果你的远程文件具有.php后缀，并且你的远程文件内容如下所示：</p>
<p><code>&lt;? php phpinfo ();?&gt;</code></p>
<p>那么在远程服务器执行phpinfo()之后，你就可以获得目标服务器的内容。但由于它不会运行代码，所以包含的信息不是目标服务器，而是远程服务器。</p>
<p>由于目标服务器不包含此代码：<code>&lt;? php phpinfo ();?&gt;</code>此时，远程服务器会执行此代码的源代码</p>
<hr>
<h4 id="当php代码对包含的文件有限制时的技巧"><a href="#当php代码对包含的文件有限制时的技巧" class="headerlink" title="当php代码对包含的文件有限制时的技巧"></a>当php代码对包含的文件有限制时的技巧</h4><p>如下代码：</p>
<pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token keyword">Include</span>  <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'page'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">".php"</span>
<span class="token delimiter important">?></span></span></code></pre>

<p>限制包含的文件后缀是php。可以用空字符<code>%00</code>截断。</p>
<p>原理：</p>
<pre class="language-none"><code class="language-none">由于 PHP 使用底层 c 函数进行与文件系统相关的操作，它可能以一种非常意想不到的方式处理空字节。由于 null 字节表示 c 语言中字符串的结束，因此不会完全考虑包含它们的字符串，而只是在出现 null 字节之前考虑。(php官网翻译来的（权威）)</code></pre>

<h2 id="伪协议"><a href="#伪协议" class="headerlink" title="伪协议"></a>伪协议</h2><h3 id="php伪协议"><a href="#php伪协议" class="headerlink" title="php伪协议"></a>php伪协议</h3><p><strong>PHP 伪协议</strong>是 PHP 支持的协议与封装协议，几个 PHP 支持的伪协议如下。</p>
<table>
<thead>
<tr>
<th>伪协议</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>file://</td>
<td>访问本地文件系统</td>
</tr>
<tr>
<td>http://</td>
<td>访问 HTTP(s) 网址</td>
</tr>
<tr>
<td>php://</td>
<td>访问各个输入/输出流</td>
</tr>
<tr>
<td>phar://</td>
<td>PHP 归档</td>
</tr>
<tr>
<td>zip://</td>
<td>压缩流</td>
</tr>
<tr>
<td>例如在 allow_url_include = on 时服务器上有个文件叫 index.php，且存在文件包含漏洞，这个时候就能用 php 伪协议直接把文件显示出来。</td>
<td></td>
</tr>
</tbody></table>
<p><code>?file=php://filter/read=convert.base64-encode/resource=index.php</code></p>
<p><strong>php://filter/</strong> 是一种访问本地文件的协议，/read=convert.base64-encode/ 表示读取的方式是 base64 编码后，resource=index.php 表示目标文件为index.php。问什么要进行 base64 编码呢？如果不进行 base64 编码传入，index.php 就会直接执行，我们就看不到文件中的内容了。php 协议还常用 <strong>php://input</strong>，这可以访问请求的原始数据的只读流，可以读取 POST 请求的参数。</p>
<h3 id="data-伪协议"><a href="#data-伪协议" class="headerlink" title="data 伪协议"></a>data 伪协议</h3><p>php 5.2.0 起，数据流封装器开始有效，主要用于数据流的读取，如果传入的数据是PHP代码就会执行代码。使用方法为:</p>
<pre class="language-uri" data-language="uri"><code class="language-uri"><span class="token scheme">data<span class="token scheme-delimiter">:</span></span><span class="token authority"><span class="token authority-delimiter">//</span><span class="token host">text</span></span><span class="token path"><span class="token path-separator">/</span>plain;base64,xxxx(base64</span>编码后的数据)</code></pre>

<hr>
<h1 id="CTF常见的编码"><a href="#CTF常见的编码" class="headerlink" title="CTF常见的编码"></a>CTF常见的编码</h1><h3 id="ASCII编码"><a href="#ASCII编码" class="headerlink" title="ASCII编码"></a>ASCII编码</h3><p> <strong>简述 ：</strong></p>
<p>ASCII 码是对<strong>英语字符与二进制位之间</strong>的关系，做了统一规定。</p>
<p>基本的 ASCII 字符集共有 128 个字符，其中有 96 个可打印字符，包括常用的字母、数字、标点符号等，</p>
<p> 如：空格SPACE 是32（二进制：00100000）；</p>
<p> 数字0 是48(二进制：00110000)；</p>
<p> 大写字母A 是65（二进制：01000001）。</p>
<p>另外还有 32 个控制字符（不能打印出来）。</p>
<p>这128个符号，只占用了一个字节的后面7位，最前面的一位统一规定为0。</p>
<p> <strong>特征：</strong> <strong>只含有数字</strong></p>
<ul>
<li>0-9, 49-57</li>
<li>A-Z, 65-90</li>
<li>a-z, 97-122</li>
</ul>
<h3 id="base家族编码"><a href="#base家族编码" class="headerlink" title="base家族编码"></a>base家族编码</h3><blockquote>
<p>base16 / base32 / base64 / base58 / base85 / base 100</p>
</blockquote>
<p> <strong>简述：</strong></p>
<p>**Base16编码是将二进制文件转换成由16个字符组成的文本 **</p>
<p><strong>base32的编码表是由（A-Z、2-7）32个可见字符构成，“=”符号用作后缀填充。</strong></p>
<p><strong>base64的编码表是由（A-Z、a-z、0-9、+、/）64个可见字符构成，“=”符号用作后缀填充。</strong></p>
<p><strong>base58的编码表相比base64少了数字0，大写字母I，O，小写字母 l (这个是L），以及符号‘+’和‘/’</strong></p>
<p><strong>base91的密文由91个字符（0-9，a-z，A-Z,!#$%&amp;()*+,./:;&lt;=&gt;?@[]^_`{|}~”）组成</strong></p>
<p>**Base100编码/解码工具（又名：Emoji表情符号编码/解码），可将文本内容编码为Emoji表情符号；同时也可以将编码后的Emoji表情符号内容解码为文本。 **</p>
<p><strong>特征：末尾可能有=号</strong></p>
<h3 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h3><p> <strong>简述：</strong></p>
<p> 一般MD5值是32位由数字“0-9”和字母“a-f”所组成的字符串，字母大小写统一；如果出现这个范围以外的字符说明这可能是个错误的md5值，就没必要再拿去解密了。</p>
<p> 16位值是取的是8~24位。</p>
<p> <strong>特征：</strong></p>
<p> 有固定长度，一般是32位或者16位</p>
<p> 由数字“0-9”和字母“a-f”组成大小写统一</p>
<hr>
<h1 id="PHP序列化与反序列化"><a href="#PHP序列化与反序列化" class="headerlink" title="PHP序列化与反序列化"></a>PHP序列化与反序列化</h1><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><pre class="language-none"><code class="language-none">类 ：对现实生活中一类具有共同特征的事物的抽象
对象：所说的事物
属性：类中对象所具有的性质
方法：可以用来操作该对象或者该对象可以使用那些方法</code></pre>

<pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
	<span class="token keyword">class</span> <span class="token class-name-definition class-name">class_test</span><span class="token punctuation">&#123;</span>
    	<span class="token keyword">var</span> <span class="token variable">$a</span><span class="token punctuation">;</span>  <span class="token comment">//a 是属性</span>
    
    	<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">echo_var</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//方法，也就是函数</span>
        	<span class="token keyword">echo</span> <span class="token string double-quoted-string">"this is a"</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token variable">$a</span><span class="token punctuation">;</span>
    	<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">class_test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//创建一个对象</span>
	<span class="token variable">$test</span><span class="token operator">-></span><span class="token property">a</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"first"</span><span class="token punctuation">;</span>  <span class="token comment">//为test对象中的a属性赋值</span>
	<span class="token variable">$test</span><span class="token operator">-></span><span class="token function">echo_var</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//调用class_test中的echo_var()函数</span>
<span class="token delimiter important">?></span></span></code></pre>

<h3 id="序列化与反序列化"><a href="#序列化与反序列化" class="headerlink" title="序列化与反序列化"></a>序列化与反序列化</h3><p>把对象转换为字节序列的过程称为对象的序列化。</p>
<p>PHP中所有的值都可以用函数 <code>serialize()</code> 返回的一个包含字节流的字符串来表示 , <strong>序列化一个对象会保存当前对象的所有变量 , 会保留类的名字 , 但是不会保存对象的方法</strong>。</p>
<p>PHP反序列化就是通过 <code>unserialize()</code> 重新把字符串变回原来的值 . <strong>如果反序列化的变量为对象( Object ) , 那么在成功重构对象后PHP会自动调用 <code>__wakeup()</code>成员方法</strong> .</p>
<p>简单的来说 , PHP序列化就是把代码中所有的 对象 , 类 , 数组 , 变量 , 匿名函数 … 全部转换为一个字符串 , 提供给用户传输和存储 . 而反序列化就是把字符串重新转换为 对象 , 类 , 数组 , 变量 , 匿名函数 . 通过这种相互转换 ,从而完成 <strong>数据持久化</strong>。</p>
<p><strong><code>private </code>, <code>protected</code> , <code>public</code> , 它们经过序列化后的字符串是有区别的</strong></p>
<p><strong>private</strong><br><code>数据类型:属性名长度:&quot;\00类名\00属性名&quot;;数据类型:属性值长度:&quot;属性值&quot;</code></p>
<p><strong>protected</strong><br><code>数据类型:属性名长度:&quot;\00*\00属性名&quot;;数据类型:属性值长度:属性值</code></p>
<p><strong>public</strong><br><code>数据类型:属性名长度:属性名;数据类型:属性值长度:属性值</code></p>
<p>private属性序列化的时候格式是 %00类名%00成员名</p>
<p>protected属性序列化的时候格式是 %00*%00成员名</p>
<p>关键要点：</p>
<p>在Private 权限私有属性序列化的时候格式是 %00类名%00属性名</p>
<p>在Protected 权限序列化的时候格式是 %00*%00属性名</p>
<pre class="language-none"><code class="language-none">序列化只序列化属性，不序列化方法，这个性质就引出了两个非常重要的话题：
(1)我们在反序列化的时候一定要保证在当前的作用域环境下有该类存在

这里不得不扯出反序列化的问题，这里先简单说一下，反序列化就是将我们压缩格式化的对象还原成初始状态的过程（可以认为是解压缩的过程），因为我们没有序列化方法，因此在反序列化以后我们如果想正常使用这个对象的话我们必须要依托于这个类要在当前作用域存在的条件。

(2)我们在反序列化攻击的时候也就是依托类属性进行攻击

因为没有序列化方法嘛，我们能控制的只有类的属性，因此类属性就是我们唯一的攻击入口，在我们的攻击流程中，我们就是要寻找合适的能被我们控制的属性，然后利用它本身的存在的方法，在基于属性被控制的情况下发动我们的发序列化攻击（这是我们攻击的核心思想，这里先借此机会抛出来，大家有一个印象）</code></pre>



<h3 id="魔术方法"><a href="#魔术方法" class="headerlink" title="魔术方法"></a>魔术方法</h3><p><em>前面有两个下划线__</em></p>
<table>
<thead>
<tr>
<th>__wakeup()</th>
<th>使用unserialize时触发</th>
</tr>
</thead>
<tbody><tr>
<td><strong>__sleep()</strong></td>
<td>使用serialize时触发</td>
</tr>
<tr>
<td><strong>__destruct()</strong></td>
<td>对象被销毁时触发</td>
</tr>
<tr>
<td>__call()</td>
<td>在对象上下文中调用不可访问的方法时触发</td>
</tr>
<tr>
<td>__callStatic()</td>
<td>在静态上下文中调用不可访问的方法时触发</td>
</tr>
<tr>
<td><strong>__get()</strong></td>
<td>用于从不可访问的属性读取数据</td>
</tr>
<tr>
<td>__set()</td>
<td>用于将数据写入不可访问的属性</td>
</tr>
<tr>
<td>__isset()</td>
<td>在不可访问的属性上调用isset()或empty()触发</td>
</tr>
<tr>
<td>__unset()</td>
<td>在不可访问的属性上使用unset()时触发</td>
</tr>
<tr>
<td><strong>__toString()</strong></td>
<td>把类当作字符串使用时触发</td>
</tr>
<tr>
<td>__invoke()</td>
<td>当脚本尝试将对象调用为函数时触发</td>
</tr>
<tr>
<td><strong>__construct()</strong></td>
<td>在类被创建成对象前调用</td>
</tr>
</tbody></table>
<h3 id="利用反序列化漏洞"><a href="#利用反序列化漏洞" class="headerlink" title="利用反序列化漏洞"></a>利用反序列化漏洞</h3><p>\1. PHP序列化给我们传递对象提供了一种简单的方法 , 反序列化的数据本质上是没有危害的<br>\2. 但是用户可控参数的反序列化数据是有危害的<br>\3. 当用户利用魔术方法或者其他敏感函数进行恶意操作时 , 会出现安全问题</p>
<h4 id="利用魔术方法"><a href="#利用魔术方法" class="headerlink" title="利用魔术方法"></a>利用魔术方法</h4><pre class="language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">A</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> <span class="token variable">$test</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"demo"</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function-definition function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        @<span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-></span><span class="token property">test</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$len</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$test</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token variable">$p</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"O:1:\"A\":1:&#123;s:4:\"test\";s:"</span><span class="token operator">.</span><span class="token variable">$len</span><span class="token operator">.</span><span class="token string double-quoted-string">":\""</span><span class="token operator">.</span><span class="token variable">$test</span><span class="token operator">.</span><span class="token string double-quoted-string">";\";&#125;"</span><span class="token punctuation">;</span> <span class="token comment">// 构造序列化对象</span>
<span class="token variable">$test_unser</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$p</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 反序列化同时触发_destruct函数</span>
<span class="token delimiter important">?></span></span></code></pre>

<p>当POST传入的参数是<code>phpinfo()</code>就可以看到php的配置信息了。</p>
<pre class="language-通过这个简单的例子总结一下寻找" data-language="通过这个简单的例子总结一下寻找"><div class="caption"><span>PHP 反序列化漏洞的方法或者说流程</span></div><code class="language-通过这个简单的例子总结一下寻找">(1) 寻找 unserialize() 函数的参数是否有我们的可控点

(2) 寻找我们的反序列化的目标，重点寻找 存在 wakeup() 或 destruct() 魔法函数的类

(3) 一层一层地研究该类在魔法方法中使用的属性和属性调用的方法，看看是否有可控的属性能实现在当前调用的过程中触发的

(4) 找到我们要控制的属性了以后我们就将要用到的代码部分复制下来，然后构造序列化，发起攻击
</code></pre>

<p>参考链接：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/fish-pompom/p/11126473.html">https://www.cnblogs.com/fish-pompom/p/11126473.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/youyoui/p/8610068.html">https://www.cnblogs.com/youyoui/p/8610068.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bmjoker/p/13742666.html">https://www.cnblogs.com/bmjoker/p/13742666.html</a></p>
<hr>
<h1 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h1><p>SQL注入是开发者对用户输入的参数过滤不严格，导致用户输入的数据能够影响预设查询功能的一种技术，通常将导致数据库的原有信息泄露、篡改，甚至被删除。本节用一些简单的例子详细介绍SQL注入的基础，包括数字型注入、UNION注入、字符型注入、布尔盲注、时间注入、报错注入和堆叠注入等注入方式和对应的利用技巧。</p>
<h3 id="数字型和UNION-型注入"><a href="#数字型和UNION-型注入" class="headerlink" title="数字型和UNION 型注入"></a>数字型和UNION 型注入</h3><p>数字型的特征是会对输入的表达式进行运算：</p>
<p><code>?id=2</code>和<code>?id=3-1</code>的结果是一样的</p>
<p>在源码上的表现是输入点<code>$_GET[&#39;id&#39;]</code>附近没有单引号或者双引号</p>
<p>浏览器会自动将URL中的特殊字符进行URL编码，服务器收到请求后会自动进行URL解码</p>
<p>使用UNION语句时，不会显示我们所期望的内容的为问题，事实上，MySQL确实查询出了两行记录，但是PHP代码决定了该页面只显示一行记录，所以我们需要将账号密码的记录显示在查询结果的第一行。此时有多种办法，如可以继续在原有数据后面加上“limit 1，1”参数（显示查询结果的第2条记录）。“limit 1，1”是一个条件限定，作用是取查询结果第1条记录后的1条记录。又如，指定id=-1或者一个很大的值，使得图1-2-9中的第一行记录无法被查询到，这样结果就只有一行记录了。</p>
<h5 id="一般过程"><a href="#一般过程" class="headerlink" title="一般过程"></a>一般过程</h5><ol>
<li><p>获取库名<code>?id=-1 union select database()</code>在这个语句中要注意union前后查询的列数要一致。所以先用<code>order by 1/2/3/4</code>确定本来查询的列数</p>
</li>
<li><p>获取表名<code>?id=-1 union select group_concat(table_name) from information_schema.tables where table_schema=database()</code> </p>
<p>MySQL 5.0版本后，默认自带一个数据库information_schema，MySQL的所有数据库名、表名、字 段名都可以从中查询到。</p>
<p>table_name字段是information_schema库的tables表的表名字段。表中还有数据库名字段table_ schema 。</p>
</li>
<li><p>获取字段名<code>?id=-1 union select group_concat(column_name) from information_schema.columns where table_name=&#39;表名&#39;</code></p>
</li>
<li><p>获取值<code>?id=-1 union select ....(字段名) from 表名</code> </p>
</li>
</ol>
<h3 id="字符型注入和布尔盲注"><a href="#字符型注入和布尔盲注" class="headerlink" title="字符型注入和布尔盲注"></a>字符型注入和布尔盲注</h3><p>   与数字型相比，只是在GET参数输入的地方包裹了单引号，让其变成字符串。</p>
<p>   <code>‘1’=1， ‘1a’=1,  &#39;a&#39;=0;</code></p>
<p>   在MySQL中，等号两边如果类型不一致，则会发生强制转换。当数字与字符串数据比较时，字符串将 被转换为数字，再进行比较。字符串1与数字相等；字符串1a被强制转换成1，与1相 等；字符串a被强制转换成0所以与0相等。</p>
<p>   在注入时，尝试使用单引号来闭合前面的单引号，再用“–%20”或“%23”注释后面的语句。注意，这里一定要URL编码，空格的编码是“%20”，“＃”的编码是“%23”。</p>
<p>当然，除了注释，也可以用单引号来闭合后面的单引号。</p>
<hr>
<p>布尔盲注就是利用AND条件前后都要满足，来推断出数据的技术。</p>
<p>利用MySQL自带的函数进行数据截取，如substring()、mid()、 substr ()来快速推测出数据</p>
<p>如<code>id=1&#39;and (select mid((select concat(user， 0x7e，pwd)from wp_user)，1，1))=&#39;a&#39;%23</code>可以判断出user的第一位是不是’a’</p>
<h5 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h5><p><img src="/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/Users\崔凌敏\Desktop\西提埃夫\第七周\img\30.png" alt="30" loading="lazy"></p>
<p>部分源码如上</p>
<p>可以在闭合单引号后执行任何SQL语句</p>
<p><code>id=1&#39;; delete * from wp_files; #</code> 删除了表wp_files的所有数据</p>
<p>;号用来分开两个SQL语句</p>
<h2 id="SQL注入bypass方法"><a href="#SQL注入bypass方法" class="headerlink" title="SQL注入bypass方法"></a>SQL注入bypass方法</h2><p>利用一些方法去绕过WAF</p>
<h3 id="空格绕过"><a href="#空格绕过" class="headerlink" title="空格绕过"></a>空格绕过</h3><p>在SQL注入时当空格被过滤了，在MySQL中可以使用：</p>
<p><code>%09%0A %0B %0C %0D %A0 %20 /**/</code></p>
<blockquote>
<p><code>%09%0A</code> %09 ascii 对应的是水平制表符  %0A是换行</p>
<p><code>%0B</code> 垂直制表符</p>
<p><code>%0C</code> 换页键</p>
<p><code>%0D</code> 回车键</p>
<p><code>%A0</code> 是扩展的ascii 代表空格</p>
<p><code>%20</code> 空格</p>
</blockquote>
<h3 id="注释符"><a href="#注释符" class="headerlink" title="注释符"></a>注释符</h3><p>在SQL注入中使用的注释符主要为：<code>#</code>,<code> --+</code>，<code>/*xxx*/</code>，<code>/*!xxx*/</code>，<code>/*!50000xxx*/</code> ，在实际场景中可以将这些注释符嵌套应用，会有意想不到的效果，比如只需利用一个<code>*/</code>闭合多个<code>/*</code></p>
<h3 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h3><p>经常在SQL注入时使用一些特殊符号即可绕过很多WAF规则，比如<code>~</code>，<code>!</code>， <code>， @</code>，<code> &#123;x key&#125;</code>， <code>1.1</code>， <code>1e1</code>，<code> ()</code>， <code>emoji表情符号</code>， <code>@:=</code>等，在实际场景中将这些符号灵活应用就可以绕过很多WAF</p>
<h3 id="WAF过滤掉"><a href="#WAF过滤掉" class="headerlink" title="WAF过滤掉()"></a>WAF过滤掉()</h3><p>这样的话就不能直接使用自带的函数，这时可以使用like或者regexp获取数据</p>
<ul>
<li><p>LIKE</p>
<p>匹配整个列。如果被匹配的文本在列值 中出现，LIKE将不会找到它，相应的行也不被返回（除非使用 通配符）。</p>
</li>
<li><p>REGEXP在列值内进行匹配，如果被匹配的文本在 列值中出现，REGEXP将会找到它，相应的行将被返回。</p>
</li>
</ul>
<p><strong>使用LIKE的话还有用到通配符</strong> </p>
<blockquote>
<p>在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SQL">SQL</a>中，通配符可用于”LIKE”表达式中，百分号(%)匹配零个或多个字符，下划线(_)匹配单个字符。</p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Transact-SQL">Transact-SQL</a>中还支持使用方括号(“[“和”]”)来匹配列表集和字符范围，在前面加一个 ^ 表示否定，将匹配所有未在括号中指定的字符。</p>
<p>在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Microsoft_Access">Microsoft Access</a>中，通配符可用于”LIKE”表达式中，星号(*)匹配零个或多个字符，问号(?)匹配单个字符。在 SAP 中加号(+)匹配一个字符。</p>
</blockquote>
<p><strong>但是，如果使用正则的话，就直接 <code>SELECT * FROM STU WHERE SNO REGEXP &#39;108&#39;</code>; 这样的操作即可！</strong></p>
<h4 id="过滤SELECT"><a href="#过滤SELECT" class="headerlink" title="过滤SELECT"></a>过滤SELECT</h4><p>将SELECT替换成空，可以用嵌套的方式绕过 <code>selselectect</code> 过滤掉中间的select两边合上还是select</p>
<h3 id="一些其他方法"><a href="#一些其他方法" class="headerlink" title="一些其他方法"></a>一些其他方法</h3><ul>
<li>过滤逗号了可以使用join；</li>
<li>过滤了关键字可以使用编码结合注释；</li>
<li>过滤常用函数可以找非常用函数代替等等。</li>
<li>大小写组合</li>
</ul>
<hr>
<h1 id="php数据比较"><a href="#php数据比较" class="headerlink" title="php数据比较"></a>php数据比较</h1><pre><code>                                                        **多种类型比较**
</code></pre>
<table>
<thead>
<tr>
<th align="left">运算数 1 类型</th>
<th align="left">运算数 2 类型</th>
<th align="left">结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">null 或 string</td>
<td align="left">string</td>
<td align="left">将 <strong><code>null</code></strong> 转换为 “”，进行数字或词汇比较</td>
</tr>
<tr>
<td align="left">bool 或 null</td>
<td align="left">任何其它类型</td>
<td align="left">转换为 bool，**<code>false</code>** &lt; <strong><code>true</code></strong></td>
</tr>
<tr>
<td align="left">object</td>
<td align="left">object</td>
<td align="left">内置类可以定义自己的比较，不同类不能比较，相同类和数组同样方式比较属性（PHP 4 中），PHP 5 有其自己的<a target="_blank" rel="noopener" href="https://www.php.net/manual/zh/language.oop5.object-comparison.php">说明</a></td>
</tr>
<tr>
<td align="left">string、resource、int、float</td>
<td align="left">string、resource、int、float</td>
<td align="left">将字符串和资源转换成数字，按普通数学比较</td>
</tr>
<tr>
<td align="left">array</td>
<td align="left">array</td>
<td align="left">具有较少成员的数组较小，如果运算数 1 中的键不存在于运算数 2 中则数组无法比较，否则挨个值比较（见下例）</td>
</tr>
<tr>
<td align="left">object</td>
<td align="left">任何其它类型</td>
<td align="left">object 总是更大</td>
</tr>
<tr>
<td align="left">array</td>
<td align="left">任何其它类型</td>
<td align="left">array 总是更大</td>
</tr>
</tbody></table>
<pre><code>                                                            **松散比较`==`**
</code></pre>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><strong><code>true</code></strong></th>
<th align="left"><strong><code>false</code></strong></th>
<th align="left"><code>1</code></th>
<th align="left"><code>0</code></th>
<th align="left"><code>-1</code></th>
<th align="left"><code>&quot;1&quot;</code></th>
<th align="left"><code>&quot;0&quot;</code></th>
<th align="left"><code>&quot;-1&quot;</code></th>
<th align="left"><strong><code>null</code></strong></th>
<th align="left"><code>[]</code></th>
<th align="left"><code>&quot;php&quot;</code></th>
<th><code>&quot;&quot;</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>true</code></strong></td>
</tr>
<tr>
<td align="left"><code>1</code></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>0</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong>*</td>
<td><strong><code>false</code></strong>*</td>
</tr>
<tr>
<td align="left"><code>-1</code></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;1&quot;</code></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;0&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;-1&quot;</code></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><strong><code>null</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>true</code></strong></td>
</tr>
<tr>
<td align="left"><code>[]</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;php&quot;</code></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong>*</td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong>*</td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>true</code></strong></td>
</tr>
</tbody></table>
<pre><code>                                                        **严格比较 `===`**
</code></pre>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"><strong><code>true</code></strong></th>
<th align="left"><strong><code>false</code></strong></th>
<th align="left"><code>1</code></th>
<th align="left"><code>0</code></th>
<th align="left"><code>-1</code></th>
<th align="left"><code>&quot;1&quot;</code></th>
<th align="left"><code>&quot;0&quot;</code></th>
<th align="left"><code>&quot;-1&quot;</code></th>
<th align="left"><strong><code>null</code></strong></th>
<th align="left"><code>[]</code></th>
<th align="left"><code>&quot;php&quot;</code></th>
<th><code>&quot;&quot;</code></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>1</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>0</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>-1</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;1&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;0&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;-1&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><strong><code>null</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>[]</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;php&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>true</code></strong></td>
<td><strong><code>false</code></strong></td>
</tr>
<tr>
<td align="left"><code>&quot;&quot;</code></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td align="left"><strong><code>false</code></strong></td>
<td><strong><code>true</code></strong></td>
</tr>
</tbody></table>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>tr0uble</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/" title="CTF-Web-杂记">http://example.com/2022/02/17/CTF-Web-%E6%9D%82%E8%AE%B0-md/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/02/26/%E6%B5%85%E8%B0%88%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B3%84%E6%BC%8Fcanary%E4%B9%8B%E8%AE%A1%E7%AE%97%E5%81%8F%E7%A7%BB%E7%9A%84%E6%96%B9%E6%B3%95/" rel="prev" title="浅谈格式化字符串泄漏canary之计算偏移的方法"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">浅谈格式化字符串泄漏canary之计算偏移的方法</span></a></div><div class="post-nav-item"></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> tr0uble</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.4.2</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.6</span></div><div class="live-time"><span>本博客已起飞</span><span id="display_live_time"></span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-02-16T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></body></html>